@startuml DiagramaDespliegue

title Diagrama de Despliegue - Batalla Naval\nEquipo 3 - Arquitectura de Software

skinparam backgroundColor White
skinparam node {
    BackgroundColor White
    BorderColor Black
}

' ==================== SERVIDOR ====================

node "PC Servidor" as servidor {
    node "JVM (JDK 21+)" as jvm_srv {
        artifact "MainServidor.jar" as main_srv
        component [BusEventos] as bus
        component [GestorPartida] as gestor
        component [ServidorSocket] as srv_socket
        database "Estado en Memoria" as memoria
    }
}

' ==================== CLIENTE 1 ====================

node "PC Jugador 1" as cliente1 {
    node "JVM (JDK 21+)" as jvm_cli1 {
        artifact "MainCliente.jar" as main_cli1
        component [ControlVista] as cv1
        component [Controlador] as ctrl1
        component [ControlModelo] as modelo1
        component [ClienteSocket] as socket1
        component [GUI Swing] as gui1
    }
}

' ==================== CLIENTE 2 ====================

node "PC Jugador 2" as cliente2 {
    node "JVM (JDK 21+)" as jvm_cli2 {
        artifact "MainCliente.jar" as main_cli2
        component [ControlVista] as cv2
        component [Controlador] as ctrl2
        component [ControlModelo] as modelo2
        component [ClienteSocket] as socket2
        component [GUI Swing] as gui2
    }
}

' ==================== RED ====================

cloud "Red Local (LAN)" as red {
}

' ==================== CONEXIONES SERVIDOR ====================

srv_socket --> bus
bus --> gestor
gestor --> memoria

' ==================== CONEXIONES CLIENTE 1 ====================

gui1 --> cv1
cv1 --> ctrl1
ctrl1 --> modelo1
ctrl1 --> socket1

' ==================== CONEXIONES CLIENTE 2 ====================

gui2 --> cv2
cv2 --> ctrl2
ctrl2 --> modelo2
ctrl2 --> socket2

' ==================== CONEXIONES RED ====================

socket1 <--> red : TCP
socket2 <--> red : TCP
red <--> srv_socket : Puerto 5000

' ==================== NOTAS ====================

note top of servidor
    **Servidor Central**
    - Escucha puerto 5000
    - Estado en memoria
    - Bus de eventos pub-sub
end note

note top of cliente1
    **Cliente Jugador**
    - GUI Swing
    - Patron MVC local
    - Singleton ControlVista
end note

note bottom of red
    **Requisitos:**
    - Misma red LAN
    - Puerto 5000 abierto
    - Protocolo TCP/IP
end note

' ==================== LEYENDA ====================

legend right
    |= Componente |= Tecnologia |
    | JVM | JDK 21+ |
    | GUI | Java Swing |
    | Comunicacion | Sockets TCP |
    | Puerto | 5000 |
    | Serializacion | JSON (Gson) |
endlegend

@enduml
