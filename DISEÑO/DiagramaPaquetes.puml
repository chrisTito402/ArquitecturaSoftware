@startuml DiagramaPaquetes

title Diagrama de Paquetes - Batalla Naval\nEquipo 3 - Arquitectura de Software

skinparam backgroundColor White
skinparam package {
    BackgroundColor White
    BorderColor Black
}

' ==================== PAQUETE RAIZ ====================

package "battleship" {

    ' ==================== CLIENTE ====================

    package "cliente" {

        package "presentacion" {
            package "frames" {
            }
            package "componentes" {
            }
        }

        package "controlador" {
        }

        package "negocio" {
            package "builder" {
            }
        }
    }

    ' ==================== SERVIDOR ====================

    package "servidor" {

        package "bus" {
        }

        package "controlador " as ctrl_srv {
        }

        package "negocio " as neg_srv {
        }
    }

    ' ==================== COMPARTIDO ====================

    package "compartido" {

        package "comunicacion" {
            package "dto" {
            }
            package "socket" {
            }
        }

        package "entidades" {
        }

        package "enums" {
        }

        package "observador" {
        }
    }
}

' ==================== DEPENDENCIAS ====================

presentacion ..> controlador : usa
controlador ..> negocio : usa
frames ..> componentes : usa

bus ..> neg_srv : delega

controlador ..> dto : usa
controlador ..> socket : usa
negocio ..> entidades : usa
neg_srv ..> entidades : usa
neg_srv ..> dto : usa
controlador ..> observador : implementa

' ==================== NOTAS ====================

note right of cliente
    **Arquitectura MVC**
    presentacion = View
    controlador = Controller
    negocio = Model
end note

note right of servidor
    **Bus de Eventos + SRP**
    bus = Solo routing
    negocio = Logica de juego
end note

note bottom of compartido
    **Codigo Reutilizado**
    DTOs para comunicacion
    Entidades del dominio
    Enums compartidos
end note

' ==================== LEYENDA ====================

legend right
    |= Capa |= Paquetes |
    | Presentacion | frames, componentes |
    | Control | controlador |
    | Negocio | negocio, builder |
    | Bus | bus |
    | Comunicacion | socket, dto |
    | Dominio | entidades, enums |
endlegend

@enduml
